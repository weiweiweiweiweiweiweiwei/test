<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atomic Habits</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/CustomEase.min.js"></script>
    <style>
        /* Basic Reset */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Space Mono', monospace; background: #f5f5f0; overflow: hidden; }
        .container { display: flex; align-items: center; justify-content: center; height: 100vh; }

        /* Home Section */
        .books-wrapper { display: flex; gap: 4rem; position: relative; z-index: 10; transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1); }
        .books__hitbox { width: 220px; height: 320px; background: #ccc; border-radius: 8px; cursor: pointer; position: relative; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
        .books__hitbox:hover { box-shadow: 0 20px 40px rgba(0,0,0,0.25); }

        /* Menu Section */
        .menu { position: fixed; right: -100vw; top: 0; width: 100vw; max-width: 400px; height: 100vh; background: #fff; overflow-y: auto; padding: 2rem 1.5rem; border-left: 2px solid #ddd; }
        .menu.active { right: 0; }
        .menu h2 { margin-bottom: 1rem; font-size: 1.75rem; color: #333; }
        .unit { margin-bottom: 2rem; }
        .unit h3 { font-size: 1.25rem; margin-bottom: 0.75rem; color: #555; }
        .unit ul { list-style: none; padding-left: 1rem; }
        .unit ul li { margin-bottom: 0.5rem; color: #777; }
        .unit ul li.locked { color: #bbb; }

        /* Animation for list items */
        .unit ul li { opacity: 0; transform: translateY(20px); transition: all 0.5s ease-out; }
        .unit ul li.visible { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>
    <div class="container">
        <div class="books-wrapper">
            <div class="books__hitbox" id="book"></div>
        </div>
        <div class="menu" id="menu">
            <h2>Atomic Habits Units</h2>
            <div class="unit">
                <h3>1. 原子習慣威力有多大？</h3>
                <ul>
                    <li class="visible">原子習慣的驚人力量</li>
                    <li class="visible">別管目標，專注於系統</li>
                    <li class="visible">改變身分認同</li>
                    <li class="visible">習慣養成的四步驟</li>
                </ul>
            </div>
            <div class="unit">
                <h3>2. 法則一：讓提示顯而易見</h3>
                <ul>
                    <li class="locked">使用習慣積分卡</li>
                    <li class="locked">給習慣時間和地點</li>
                    <li class="locked">習慣堆疊法</li>
                    <li class="locked">改變環境法</li>
                </ul>
            </div>
            <div class="unit">
                <h3>3. 法則二：讓習慣有吸引力</h3>
                <ul>
                    <li class="locked">讓習慣有吸引力</li>
                    <li class="locked">誘惑綑綁法</li>
                    <li class="locked">模仿他人法</li>
                    <li class="locked">轉念法</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Add subtle animation on load
        gsap.from('.toc-list li', {
            opacity: 0,
            x: -30,
            duration: 0.6,
            stagger: 0.15,
            ease: 'power3.out'
        });
        // Transition animation
        document.getElementById('book').addEventListener('click', () => {
            const wrapper = document.querySelector('.books-wrapper');
            const menu = document.getElementById('menu');
            wrapper.style.transform = 'translateX(-150%)';
            setTimeout(() => menu.classList.add('active'), 500);
            // Delay the list item animations
            setTimeout(() => {
                document.querySelectorAll('.unit ul li').forEach((li, i) => {
                    setTimeout(() => li.classList.add('visible'), i * 150);
                });
            }, 800);
        });
    </script>
</body>
</html>